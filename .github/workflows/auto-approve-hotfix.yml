name: Auto approve Hotfix PRs
on: 
  pull_request_target:
    branches:
      - main
    types: [opened, reopened]

permissions:
      pull-requests: write

jobs:
  auto-approve:
        if: startsWith(github.head_ref, 'hotfix/')
        runs-on: ubuntu-latest
        steps:
              - name: Auto Approve PR
                uses: hmarr/auto-approve-action@v4
                with: 
                      github-token: ${{ secrets.PAT_AUTO_APPROVE }}
                      review-message: "Auto approved automated PR"
